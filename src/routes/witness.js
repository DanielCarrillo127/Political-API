const { Router } = require('express');
const router = Router();
const { registerVote, validateWitness, getVotes, updateVoteStatus, registerPartialCount, getGeneralStatus, getComplianceReport, getMissingTablesReport, getGeneralReport } = require('../controllers/witnessRoutes.controller');
// const multer = require('multer');

// const path = require('path');

// const storage = multer.diskStorage({
//     destination: (req, file, cb) => {
//         cb(null, path.join(__dirname, '../uploads/'));
//     },
//     filename: (req, file, cb) => {
//         cb(null, file.originalname);
//     },
// });
// const upload = multer({ storage: storage });


//CREATE
// router.post('/registerVote', upload.single("image"), registerVote)
router.route('/registerVote')
    .post(registerVote)

router.route('/registerPartialCount')
    .post(registerPartialCount)

// //READ
router.route('/getVotes')
    .post(getVotes)
router.route('/validateWitness')
    .post(validateWitness)
router.route("/getGeneralStatus")
    .post(getGeneralStatus)
router.route('/getComplianceReport')
    .post(getComplianceReport)
router.route('/getMissingTablesReport')
    .post(getMissingTablesReport)
router.route('/getGeneralReport')
    .post(getGeneralReport)

// //UPDATE date and address
router.route('/updateVoteStatus')
    .post(updateVoteStatus)

// // //DELETE
// router.route('/deleteVote').delete(deleteVote)

module.exports = router;
